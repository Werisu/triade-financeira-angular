<div class="bg-white rounded-lg shadow-md p-6 max-w-md mx-auto">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">Nova Conta Bancária</h2>

  <form (ngSubmit)="onSubmit()" class="space-y-4">
    <div>
      <label for="name" class="block text-sm font-medium text-gray-700 mb-1"> Nome da Conta </label>
      <input
        type="text"
        id="name"
        name="name"
        [(ngModel)]="bankAccount.name"
        required
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"
        placeholder="Ex: Conta Principal, Poupança, etc."
      />
    </div>

    <div>
      <label for="bank_name" class="block text-sm font-medium text-gray-700 mb-1"> Banco </label>
      <select
        id="bank_name"
        name="bank_name"
        [(ngModel)]="bankAccount.bank_name"
        required
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"
      >
        <option value="">Selecione um banco</option>
        <option *ngFor="let bank of bankNames" [value]="bank">
          {{ bank }}
        </option>
      </select>
    </div>

    <div>
      <label for="account_type" class="block text-sm font-medium text-gray-700 mb-1">
        Tipo de Conta
      </label>
      <select
        id="account_type"
        name="account_type"
        [(ngModel)]="bankAccount.account_type"
        required
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"
      >
        <option *ngFor="let type of accountTypes" [value]="type.value">
          {{ type.label }}
        </option>
      </select>
    </div>

    <div>
      <label for="current_balance" class="block text-sm font-medium text-gray-700 mb-1">
        Saldo Atual (R$)
      </label>
      <input
        type="number"
        id="current_balance"
        name="current_balance"
        [(ngModel)]="bankAccount.current_balance"
        step="0.01"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"
        placeholder="0,00"
      />
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2"> Cor da Conta </label>
      <div class="flex flex-wrap gap-2">
        <button
          *ngFor="let color of colors"
          type="button"
          (click)="selectColor(color)"
          [style.background-color]="color"
          [class.ring-2]="bankAccount.color === color"
          class="w-8 h-8 rounded-full border-2 border-white shadow-md hover:scale-110 transition-transform"
        ></button>
      </div>
    </div>

    <button
      type="submit"
      [disabled]="loading || !bankAccount.name || !bankAccount.bank_name"
      class="w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
    >
      <span *ngIf="!loading">Cadastrar Conta</span>
      <span *ngIf="loading">Cadastrando...</span>
    </button>
  </form>
</div>
